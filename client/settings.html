<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TaskFlow Pro - Settings</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/src/styles.css" />
</head>
<body class="min-h-screen bg-slate-50 text-slate-800">
  <nav class="bg-white border-b border-slate-200">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center space-x-3">
          <a href="index.html" class="inline-flex items-center gap-2 text-slate-700 hover:text-slate-900 transition">
            <div class="w-9 h-9 bg-gradient-to-br from-blue-500 to-teal-500 rounded-lg flex items-center justify-center text-white font-semibold">
              ST
            </div>
            <span class="text-base font-semibold">TaskFlow Pro</span>
          </a>
          <span class="text-sm text-slate-400">Settings</span>
        </div>
        <a href="index.html" class="btn-secondary">Back to workspace</a>
      </div>
    </div>
  </nav>

  <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-8">
    <header class="text-center space-y-3">
      <h1 class="text-3xl font-semibold text-slate-900">Workspace Settings</h1>
      <p class="text-sm text-slate-500 max-w-2xl mx-auto">
        Update your profile details and keep the workspace roster current. Changes are saved locally and applied instantly across the workspace.
      </p>
    </header>

    <section class="bg-white border border-slate-200 rounded-2xl shadow-sm">
      <form id="settingsForm" class="divide-y divide-slate-100" novalidate>
        <div class="p-6 space-y-6">
          <div class="space-y-3">
            <h2 class="text-lg font-semibold text-slate-900">Profile</h2>
            <p class="text-sm text-slate-500">These details appear in the navigation and activity feed.</p>
          </div>
          <div class="grid gap-5 md:grid-cols-2">
            <label class="form-field">
              <span class="field-label">Display name</span>
              <input id="profileName" type="text" class="field-input" placeholder="Your name" required />
            </label>
            <label class="form-field">
              <span class="field-label">Profile photo URL</span>
              <input id="profilePhoto" type="url" class="field-input" placeholder="https://..." required />
            </label>
          </div>

          <div class="flex items-center gap-4 bg-slate-50 border border-slate-200 rounded-xl p-4">
            <img id="profilePreviewAvatar" class="w-14 h-14 rounded-full object-cover border border-slate-200" alt="Profile preview" src="" />
            <div>
              <p id="profilePreviewName" class="font-medium text-slate-900"></p>
              <p class="text-xs text-slate-500">Preview of how your profile appears in the workspace.</p>
            </div>
          </div>

          <div class="space-y-3">
            <h3 class="text-sm font-semibold uppercase tracking-wide text-slate-500">Display</h3>
            <div class="flex flex-col gap-4 rounded-2xl border border-slate-100 bg-white/70 p-4 shadow-sm md:flex-row md:items-center md:justify-between">
              <div>
                <p class="text-sm font-semibold text-slate-900">Workspace font size</p>
                <p class="text-xs text-slate-500">Adjusts text scale across the dashboard to improve readability.</p>
              </div>
              <div class="flex items-center gap-3 w-full md:w-auto">
                <input
                  id="fontScale"
                  type="range"
                  min="90"
                  max="115"
                  step="5"
                  value="100"
                  class="w-full md:w-64 accent-slate-900"
                />
                <span id="fontScaleValue" class="text-sm font-medium text-slate-600 min-w-[3.5rem] text-right">100%</span>
              </div>
            </div>
          </div>
        </div>


        <div class="p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
          <p id="saveStatus" class="text-sm text-slate-500"></p>
          <div class="flex items-center gap-3">
            <button type="button" id="resetSettings" class="btn-secondary">Reset to defaults</button>
            <button type="submit" class="btn-primary">Save settings</button>
          </div>
        </div>
      </form>
    </section>

    <section class="bg-white border border-slate-200 rounded-2xl shadow-sm">
      <div class="p-6 space-y-6">
        <div class="space-y-3">
          <h2 class="text-lg font-semibold text-slate-900">Team members</h2>
          <p class="text-sm text-slate-500">Keep the roster current so assignments stay accurate.</p>
        </div>
        <div class="grid gap-6 lg:grid-cols-2">
          <div class="space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-wide text-slate-500">Current members</h3>
            <ul id="settingsMemberList" class="space-y-2"></ul>
          </div>
          <form id="settingsMemberForm" class="space-y-4" novalidate>
            <div class="grid gap-4 sm:grid-cols-2">
              <label class="form-field">
                <span class="field-label">Member name</span>
                <input type="text" name="memberName" class="field-input" placeholder="Full name" required />
              </label>
              <label class="form-field">
                <span class="field-label">Department</span>
                <select name="memberDepartment" class="field-input"></select>
              </label>
            </div>
            <p class="text-sm text-rose-500" data-member-error></p>
            <div class="flex justify-end">
              <button type="submit" class="btn-primary">Add member</button>
            </div>
          </form>
        </div>
      </div>
      <div class="border-t border-slate-100 p-6 space-y-6">
        <div class="space-y-3">
          <h2 class="text-lg font-semibold text-slate-900">Departments</h2>
          <p class="text-sm text-slate-500">Group members into departments for reporting and filters.</p>
        </div>
        <div class="grid gap-6 lg:grid-cols-2">
          <div class="space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-wide text-slate-500">Current departments</h3>
            <ul id="settingsDepartmentList" class="space-y-2"></ul>
          </div>
          <form id="settingsDepartmentForm" class="space-y-4" novalidate>
            <label class="form-field">
              <span class="field-label">Department name</span>
              <input type="text" name="departmentName" class="field-input" placeholder="Department" required />
            </label>
            <p class="text-sm text-rose-500" data-department-error></p>
            <div class="flex justify-end">
              <button type="submit" class="btn-primary">Add department</button>
            </div>
          </form>
        </div>
      </div>
    </section>
    <section class="bg-white border border-slate-200 rounded-2xl shadow-sm">
      <div class="p-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div class="space-y-1">
          <h2 class="text-lg font-semibold text-slate-900">Workspace export</h2>
          <p class="text-sm text-slate-500">Download a JSON backup of tasks, projects, sections, companies, members, departments and the userguide.</p>
        </div>
        <button id="exportWorkspace" type="button" class="btn-primary">Export workspace data</button>
      </div>
    </section>
  </main>

  <script type="module" src="/src/settings.main.js"></script>
</body>
</html>
